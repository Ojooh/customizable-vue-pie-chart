(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["PieChart"]=t(require("vue")):e["PieChart"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){"use strict";var t={868:function(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n}},274:function(t){t.exports=e}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}!function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p=""}();var l={};if(o.d(l,{default:function(){return v}}),"undefined"!==typeof window){var r=window.document.currentScript,a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(o.p=a[1])}var c=o(274);const i={viewBox:"0 0 32 32",class:"pie-chart-svg"},s=["fill"],u=["fill","font-size"],d=["d","fill","stroke-width","onClick"],p=["x","y","fill","font-size","onClick"];function m(e,t,n,o,l,r){const a=(0,c.resolveComponent)("segment-list");return(0,c.openBlock)(),(0,c.createElementBlock)("div",{class:(0,c.normalizeClass)(["pie-chart-container",n.containerClass])},[n.showLegendText?((0,c.openBlock)(),(0,c.createElementBlock)("div",{key:0,class:(0,c.normalizeClass)(["legend",n.legendPosition])},[(0,c.createElementVNode)("p",null,(0,c.toDisplayString)(n.legendText),1)],2)):(0,c.createCommentVNode)("",!0),(0,c.createElementVNode)("div",{class:(0,c.normalizeClass)(["pie-chart-container"]),style:(0,c.normalizeStyle)(`width: ${n.size}px`)},[((0,c.openBlock)(),(0,c.createElementBlock)("svg",i,[r.hasFullSegment?((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:0},[(0,c.createElementVNode)("circle",{cx:"16",cy:"16",r:"16",fill:l.fullSegment.color,class:"pie-chart-circle cursor-pointer",onClick:t[0]||(t[0]=e=>r.handleSegmentClick(e,l.fullSegment))},null,8,s),n.showText?((0,c.openBlock)(),(0,c.createElementBlock)("text",{key:0,x:"16",y:"16","text-anchor":"middle","alignment-baseline":"middle",fill:n.textColor,"font-size":n.textSize,class:"pie-chart-text"},(0,c.toDisplayString)(Math.round(l.fullSegment.percentage))+"% ",9,u)):(0,c.createCommentVNode)("",!0)],64)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(r.pieData,((e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)("path",{key:t,d:e.pathData,fill:e.color,stroke:"white","stroke-width":n.strokeWidth,onClick:t=>r.handleSegmentClick(t,e),"stroke-linecap":"round",class:(0,c.normalizeClass)(e.link?"cursor-pointer":"")},null,10,d)))),128)),n.showText?((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,{key:0},(0,c.renderList)(r.pieData,((e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)("text",{key:"text-"+t,x:e.textX,y:e.textY,"text-anchor":"middle","alignment-baseline":"middle",fill:n.textColor,"font-size":n.textSize,class:(0,c.normalizeClass)([r.cursorPointerClass(e),n.textClass]),onClick:t=>r.handleSegmentClick(t,e)},(0,c.toDisplayString)(Math.round(e.percentage))+"% ",11,p)))),128)):(0,c.createCommentVNode)("",!0)],64))]))],4),n.showSegmentList?((0,c.openBlock)(),(0,c.createBlock)(a,{key:1,segments:n.data},null,8,["segments"])):(0,c.createCommentVNode)("",!0)],2)}const f={class:"segment-list"};function g(e,t,n,o,l,r){return(0,c.openBlock)(),(0,c.createElementBlock)("ul",f,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(n.segments,((e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)("li",{key:t,class:"segment-item"},[(0,c.createElementVNode)("div",{style:(0,c.normalizeStyle)({backgroundColor:e.color}),class:"color-box"},null,4),(0,c.createElementVNode)("span",null,(0,c.toDisplayString)(e.label)+" - "+(0,c.toDisplayString)(e.percentage)+"%",1)])))),128))])}var h={name:"SegmentList",props:{segments:{type:Array,required:!0}}},k=o(868);const y=(0,k.A)(h,[["render",g],["__scopeId","data-v-3458a657"]]);var x=y,C={name:"PieChart",props:{data:{type:Array,required:!0,default:()=>[]},showText:{type:Boolean,default:!0},textSize:{type:Number,default:4},textColor:{type:String,default:"#1F1D1D"},textClass:{type:String,default:null},onSegmentClick:{type:Function,default:null},showLegendText:{type:Boolean,default:!1},legendText:{type:String,default:"Pie Chart"},legendPosition:{type:String,default:"bottom"},showSegmentList:{type:Boolean,default:!1},containerClass:{type:String,default:null},strokeWidth:{type:Number,default:.2},size:{type:Number,default:300}},data(){return{fullSegment:null}},computed:{hasFullSegment(){const e=this.data.find((e=>100===e.percentage));return this.fullSegment=e,e},pieData(){return this.generatePieData(this.data)}},methods:{cursorPointerClass(e){return e.link?"cursor-pointer":""},handleSegmentClick(e,t){this.onSegmentClick?this.onSegmentClick(t):t.link&&(window.location.href=t.link)},calculatePathData(e,t){const n=16,o=e+3.6*t,l=e*Math.PI/180,r=o*Math.PI/180,a=16+n*Math.cos(l),c=16+n*Math.sin(l),i=16+n*Math.cos(r),s=16+n*Math.sin(r),u=t>50?1:0;return`M16,16 L${a},${c} A${n},${n} 0 ${u},1 ${i},${s} Z`},generatePieData(e){const t=e.reduce(((e,t)=>e+t.percentage),0);if(100!==t)return console.error("The total percentage of pie chart segments must equal 100%."),[];let n=-90;return e.map((e=>{const t={...e},o=n+e.percentage/2*3.6,l=o*Math.PI/180;return t.textX=16+9*Math.cos(l),t.textY=16+9*Math.sin(l),e.percentage>0?t.pathData=this.calculatePathData(n,e.percentage):t.pathData="",n+=3.6*e.percentage,t}))}},components:{SegmentList:x}};const S=(0,k.A)(C,[["render",m],["__scopeId","data-v-8daa28f0"]]);var B=S,v=B;return l=l["default"],l}()}));
//# sourceMappingURL=PieChart.umd.min.js.map